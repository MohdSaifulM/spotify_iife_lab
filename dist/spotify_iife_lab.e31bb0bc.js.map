{"version":3,"sources":["js/spotify.js","index.js"],"names":["spotify","state","songs","id","song","playlist","Song","dom","t_new","t_new_song","addToPlaylist","find","s","html","document","querySelector","insertAdjacentHTML","getSongs","renderSongs","songList","innerHTML","forEach","getElementById","addEventListener","e","console","log","target","getInputData","value","addSongs","length","newSong","push","shuffle","shuffled","songsTemp","randIdx","Math","floor","random","splice","app","init","trim","newMusic","alert","render"],"mappings":"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","file":"spotify_iife_lab.e31bb0bc.js","sourceRoot":"..","sourcesContent":["export const spotify = (function () {\n    let state = {\n        songs: [{\n                id: 1,\n                song: \"a\"\n            },\n            {\n                id: 2,\n                song: \"b\"\n            },\n            {\n                id: 3,\n                song: \"c\"\n            },\n            {\n                id: 4,\n                song: \"d\"\n            },\n            {\n                id: 5,\n                song: \"e\"\n            },\n        ],\n        playlist: []\n    }\n\n    class Song {\n        constructor(id, song) {\n            this.id = id;\n            this.song = song;\n        };\n    };\n\n    const dom = {\n        t_new: \"add__song\",\n        t_new_song: \".new__song\"\n    };\n\n    //ASK EBERE WHY IT WORKS OUTSIDE OF RETURN AND NOT INSIDE\n    function addToPlaylist(id) {\n        //ADD SONG TO PLAYLIST\n        let song = state.songs.find(s => s.id == id);\n        let html = `<li>${song.song}</li>`\n        document.querySelector(\".my__playlist\").insertAdjacentHTML(\"beforeend\", html)\n    }\n\n    return {\n        getSongs: function () {\n            return state.songs;\n        },\n        renderSongs: function () {\n            let songs = this.getSongs();\n            //Display songs to songs__list\n            let songList = document.querySelector(\".songs__list\")\n            songList.innerHTML = \"\";\n            songs.forEach(s => {\n                let html = `<li>${s.song} <button class=\"add__song\" id=\"${s.id}\">+</button></li>`\n                songList.insertAdjacentHTML(\"beforeend\", html)\n\n                //add event listener for adding songs\n                //this.addToPlaylist(id)\n                document.getElementById(`${s.id}`).addEventListener('click', function (e) {\n                    console.log(e.target.id);\n                    addToPlaylist(e.target.id);\n                    // console.log(songs);\n                })\n            })\n        },\n        getInputData: function () {\n            return {\n                song: document.querySelector(dom.t_new_song).value,\n            };\n        },\n        addSongs: function (song) {\n            //ADD SONG TO MAIN LIST\n            let id;\n\n            if (state.songs.length > 0) {\n                //   [{id:1},{id: 2}] = len: 2 -1 , pos: 1\n                id = state.songs[state.songs.length - 1].id + 1;\n            } else {\n                id = 1;\n            }\n\n            //create object template\n            let newSong = new Song(id, song);\n            //update state with object template\n            state.songs.push(newSong);\n\n            return newSong;\n        },\n        shuffle: function () {\n            //SHUFFLE LIST OF SONGS IN MAIN LIST\n            let shuffled = [];\n            let songsTemp = state.songs;\n            while (songsTemp.length > 0) {\n                //randomselect song from songsTemp\n                let randIdx = Math.floor(Math.random() * songsTemp.length)\n                //push to shuffled\n                shuffled.push(songsTemp[randIdx]);\n                //remove from songsTemp\n                songsTemp.splice(randIdx, 1);\n            }\n            //update songs array\n            state.songs = shuffled;\n        },\n        dom,\n    }\n})();","import { spotify } from \"./js/spotify\";\n// const spotify = require(\"./js/spotify\");\n\nconst app = (function(s){\n\n  \n\n    function init(){\n        let dom = s.dom;\n        console.log(dom.t_new)\n        document.getElementById(dom.t_new).addEventListener(\"click\", function(){\n            console.log(\"button clicked\")\n            let {song} = s.getInputData();\n            if(song.trim().length > 0){\n                console.log(\"it works\");\n                let newMusic = s.addSongs(song);\n                s.renderSongs();\n            } else {\n                alert(\"Please input a song\");\n            }\n        })\n    }\n   \n\n    return {\n        render: function(){\n            \n            s.renderSongs();\n\n            init();\n            \n            document.querySelector(\".shuffle__songs\").addEventListener('click', function(){\n                s.shuffle();\n                s.renderSongs();\n            })\n            \n\n        }\n    }\n})(spotify);\n\napp.render();"]}